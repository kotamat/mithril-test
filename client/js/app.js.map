{"version":3,"sources":["app.coffee"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["Todo = (data) ->\n    @description = m.prop data.description\n    @done = m.prop false\n    return\n\nTodo.list = ->\n    tasks = []\n    src = localStorage.getItem 'todo'\n    if src\n        json = JSON.parse src\n        tasks = for task in json\n          new Todo task\n    m.prop tasks\n\nTodo.save = (todoList) ->\n    localStorage.setItem 'todo',\n        JSON.stringify todoList.filter (todo) ->\n            !todo.done()\n\nvm =\n    init: ->\n        vm.list = Todo.list()\n        vm.description = m.prop \"\"\n        vm.add = ->\n            if vm.description()\n                vm.list().push new Todo\n                    description: vm.description()\n                vm.description \"\"\n                Todo.save vm.list()\n        vm.check = (value) ->\n            @done value\n            Todo.save vm.list()\n\ncontroller = ->\n    vm.init()\n\nview = ->\n    m 'div', [\n        m \"input\",\n            onchange: m.withAttr(\"value\", vm.description)\n            value: vm.description()\n        m \"button\",\n            onclick: vm.add\n            \"追加\"\n        m 'table', vm.list().map (task) ->\n            m 'tr', [\n                m 'td', [\n                    m 'input[type=checkbox]',\n                        onclick: m.withAttr 'checked', vm.check.bind task\n                        value: task.done()\n                ]\n                m 'td',\n                    style:\n                        textDecoration: if task.done() then 'line-through' else \"none\"\n                    task.description()\n            ]\n    ]\n\nm.mount document.getElementById('root'),\n    controller: controller\n    view: view\n"],"sourceRoot":"/src"}